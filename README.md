# art-antd-react

### åŸºäº [Ant Design](https://ant-design.gitee.io/components/overview-cn/) å¼€å‘çš„é…ç½®åŒ–ç»„ä»¶ï¼Œæ—¨åœ¨é€šè¿‡é…ç½®åŒ–å¼€å‘ã€åšæ›´å¿«æ›´é«˜æ•ˆæ›´å¿«ä¹çš„åšä¸€ä¸ªå‰ç«¯å¼€å‘è‰ºæœ¯å®¶

ä½•æ—¶ä½¿ç”¨è¯¥ç»„ä»¶åº“ï¼š

- é…ç½®åŒ–å¼€å‘è¡¨å•
- é…ç½®åŒ–å±•ç¤ºè¯¦æƒ…ä¿¡æ¯
- é€šè¿‡ hooks æ¥å¼€å‘æ¨¡æ¿é¡µé¢
- é€šè¿‡ hooks æ¥é…ç½®åŒ–è¡¨å•å¼¹æ¡†
- useRequest è¯·æ±‚æ•°æ®è‡ªåŠ¨ loadingã€å¤„ç† errorã€format è¿”å›æ•°æ®ã€æ‰‹åŠ¨è‡ªåŠ¨è¯·æ±‚æ•°æ®
- å¿«é€Ÿä½¿ç”¨ antd æ­å»ºä¸€ä¸ª react demoï¼ˆæ— éœ€é…ç½®ï¼‰ï¼Œå¼€ç®±å³ç”¨ antd ç»„ä»¶

### Description

ä» 1.1.0 åˆ° ä»¥åçš„ç‰ˆæœ¬ï¼Œantd åªè¦æ˜¯æ— ç—›å‡çº§ï¼Œæœ¬ library ä¹Ÿæ˜¯æ— ç—›å‡çº§

#### å½“å‰å¯ä¾›ç”¨çš„ç»„ä»¶

- DetailPresent è¯¦æƒ…å‘ˆç°ï¼Œé…ç½®åŒ–å±•ç¤ºè¯¦æƒ…ä¿¡æ¯
- FormModal å¸¸è§çš„ Form Modal æ“ä½œï¼Œè‡ªåŠ¨å¤„ç† loading ååœ¨å…³é—­å¼¹æ¡†
- FormItemsBuilder è¡¨å•é¡¹æ„å»ºå™¨ï¼Œå¿«é€Ÿç”Ÿæˆè¡¨å•é¡¹
- DetailPresent è¯¦æƒ…å‘ˆç°ï¼Œå¿«é€Ÿçš„å±•ç¤ºå‡ºæƒ³å±•ç¤ºçš„ä¿¡æ¯
- FormGenerator è¡¨å•ç”Ÿæˆå™¨ï¼Œåœ¨è¡¨å•é¡¹æ„å»ºæ„é€ å™¨çš„åŸºç¡€ä¸Šå°è£…äº† æäº¤ï¼Œé‡ç½®ï¼ŒæŠ˜å ç­‰åŠŸèƒ½
- antd çš„æ‰€æœ‰ç»„ä»¶å‡å¯ä» æœ¬ç»„ä»¶ä¸­å¯¼å‡º(è¿™æ„å‘³ç€ç”¨ antd demo çš„æ—¶å€™åªéœ€è¦å®‰è£…è¿™ä¸ªåŒ…å³å¯ï¼Œå“ˆå“ˆ )

#### æä¾›çš„ hooks

- useConfigListPage åˆ—è¡¨é…ç½®é¡µ hooks (æ”¯æŒæœç´¢ï¼Œtable å±•ç¤ºï¼Œè‡ªåŠ¨ loading)
- useFormModal è¡¨å•å¼¹æ¡† hooks ï¼ˆæäº¤æ—¶ loadingï¼Œæäº¤åè¯·æ±‚æ•°æ®, æˆåŠŸåˆ™å…³é—­ modalï¼Œå¦åˆ™å¼¹æ¡†ä»ç„¶æ‰“å¼€ï¼‰
- useRequest è¯·æ±‚æ—¶ è‡ªåŠ¨ loadingï¼Œerror ç›‘æ§ï¼Œæ ¼å¼åŒ–è¯·æ±‚åˆ°çš„æ•°æ®ï¼ŒæˆåŠŸæç¤º

#### å®˜ç½‘ & ä»“åº“åœ°å€

> å¦‚æœå®˜ç½‘æš‚æ—¶ä¸èƒ½è®¿é—®ï¼Œç›´æ¥çœ‹ Started çš„ demo æ­å»ºåº”ç”¨ï¼Œhooks å¯ä»¥ clone æœ¬ä»“åº“åæœ¬åœ°çœ‹ demo ^\_&

Giteeï¼š

- [art-antd-react gitee å®˜ç½‘](https://fedomain.gitee.io/art-antd-react) å›½å†…çš„è®¿é—®æ­¤é“¾æ¥è¾ƒå¿«(å¯èƒ½å­˜åœ¨æ»åæ€§)

- [art-antd-react repository åœ°å€](https://gitee.com/fedomain/art-antd-react)

github:

- [art-antd-react GitHub å®˜ç½‘](https://fe-domain.github.io/art-antd-react/)

- [art-antd-react GitHub repository åœ°å€](https://github.com/fe-domain/art-antd-react)

### Getting Started

```shell
npm i art-antd-react
# or
yarn add art-antd-react

# åœ¨å…¥å£å¼•å…¥ä»¥ä¸‹æ–‡ä»¶(è¿™æ˜¯antdçš„é»˜è®¤ä¸»é¢˜æ ·å¼ï¼Œå¦‚æœè¦å¼•å…¥å…¶ä»–ä¸»é¢˜æ ·å¼å¯ä»¥åœ¨é¡¹ç›®ä¸­æŒ‰ç…§ https://ant-design.gitee.io/docs/react/use-with-create-react-app-cn è¦†ç›–å³å¯)
import "art-antd-react/dist/esm/styles/defaultAntdCss.css"

```

# FormItemsBuilder è¡¨å•é¡¹æ„å»ºå™¨

FormItemsBuilder çš„ç›®çš„æ˜¯ä½¿ç”¨é…ç½®åŒ–çš„æ€æƒ³æ¥å¸®åŠ©æˆ‘ä»¬å¿«é€Ÿçš„ç”Ÿæˆ Form.Item å’Œå…¶ Children çš„æ ‡ç­¾ï¼Œä½†å»ºè®®åªæœ‰å¿…é¡»è¦æŠŠ Form.Item åˆ†ç»„ä¹‹ç±»çš„åœºæ™¯æ—¶æ‰ä½¿ç”¨è¯¥ç»„ä»¶,å¦‚ [demo2](/components/form-items-builder#è‡ªå®šä¹‰å¸ƒå±€å’Œå…¶ä»–æ ‡ç­¾çš„ä½¿ç”¨)ï¼Œå¦åˆ™å»ºè®®ä½¿ç”¨ [FormGenerator](/components/form-generator) ,å¦‚æœè¦å•ç‹¬ä½¿ç”¨åˆ™å’Œ [Form](https://ant-design.gitee.io/components/form-cn/) ç»„ä»¶æ­é…ä½¿ç”¨

### åŸºæœ¬ä½¿ç”¨

```tsx
// è¿™äº›ç»„ä»¶æˆ–è€… Props API ä¹Ÿå¯ä»¥ä» antd æˆ–è€… art-antd-react ä¸­å¯¼å‡º
// import {
//   Button,
//   Col,
//   Form,
//   InputNumberProps,
//   InputProps,
//   Row,
//   SelectProps,
// } from "antd";

import {
  Button,
  Col,
  Form,
  FormItemConfig,
  FormItemsBuilder,
  InputNumberProps,
  InputProps,
  RenderType,
  Row,
  SelectProps,
} from 'art-antd-react'; // å†…éƒ¨ä¹Ÿå°† antd çš„ç›´æ¥å¯¼å‡ºç»„ä»¶å’Œprops å¯¼å‡ºäº†

const Demo1 = () => {
  const [form] = Form.useForm();

  const mockOptions = [
    {
      label: 'mock1',
      value: 'mock1',
    },
    {
      label: 'mock2',
      value: 'mock2',
    },
    {
      label: 'mock3',
      value: 'mock3',
    },
  ];

  const formItemsConfig: FormItemConfig[] = [
    {
      renderType: RenderType.Input,
      formItemProps: {
        name: 'name',
        label: 'å§“å',
      },
      formItemChildProps: {
        placeholder: 'è¯·è¾“å…¥åå­—',
      } as InputProps,
    },
    {
      renderType: RenderType.Select,
      formItemProps: {
        name: 'hobby',
        label: 'çˆ±å¥½',
      },
      formItemChildProps: {
        placeholder: 'è¯·é€‰æ‹©',
        options: mockOptions,
      } as SelectProps,
    },
    {
      renderType: RenderType.InputNumber,
      formItemProps: {
        name: 'number',
        label: 'å¹´é¾„',
      },
      formItemChildProps: {
        placeholder: 'è¯·è¾“å…¥æ•°å­—',
        // ç±»å style ç­‰éƒ½å¯ä»¥ç›´æ¥å†™æˆ key-value çš„å½¢å¼
        style: { width: '100%' },
        // å½“éœ€è¦æç¤ºæˆ–è€…é™æ€æ£€æŸ¥æ—¶æ¨èä½¿ç”¨ ts çš„ as æ–­è¨€
      } as InputNumberProps,
    },
  ];

  return (
    <Form
      form={form}
      onFinish={(value: Record<string, unknown>) => {
        console.log('demo1 values: ', value);
      }}
    >
      <Row gutter={18}>
        {/* FormItemsBuilder è‡ªå¸¦ Col å¸ƒå±€, å› æ­¤æœ‰æ—¶å€™ä¼ é€’çš„ colProps/itemProps ä¸okæ—¶ï¼Œæˆ–è®¸éœ€è¦åŠ ä¸€ä¸ª Row åŒ…è£¹ FormItemsBuilder */}
        <FormItemsBuilder
          colProps={{ span: 6 }}
          formItemsConfig={formItemsConfig}
        />
        <Col span={6}>
          <Button type="primary" htmlType="submit">
            æäº¤
          </Button>
        </Col>
      </Row>
    </Form>
  );
};

export default Demo1;
```

## æ€æ ·å‚ä¸è´¡çŒ®ï¼Ÿâ™¥ï¸

```
# clone ä»“åº“
git clone git@github.com:oneQorg/art-antd-react.git

# åœ¨ src ä¸‹æ–°å»º ä½ è¦è´¡çŒ®çš„ç»„ä»¶åå­—(yourComponentName)

# åœ¨ src/index æ–‡ä»¶ä¸‹
export * from "./yourComponentName"

# åœ¨ docs/components or docs/hooks ä¸‹å†™æ¸…æ¥šæ€æ ·ä½¿ç”¨ç­‰è¯´æ˜

```

## æ€æ ·æœ¬åœ°è°ƒè¯•ï¼ˆå‘å¸ƒåˆ° npm ä¹‹å‰ï¼‰

```
# å¦‚æœæ²¡æœ‰ yalc
npm i yalc -g

# ç„¶ååœ¨æœ¬é¡¹ç›®æ ¹ç›®å½• run
yalc publish

# æ–°å»ºä¸€ä¸ª æµ‹è¯•ä»“åº“
npx create-react-app art-antd-test-project --template typescript

# æ‰“å¼€æµ‹è¯•ä»“åº“
yalc add art-antd-react

# å¤åˆ¶çš„å¯¹åº”çš„ demo åˆ° art-antd-test-project çœ‹èƒ½å¦è·‘èµ·æ¥
# è¿è¡Œ okï¼Œ æ­£ç¡®æ¸²æŸ“ï¼Œé‚£ä¹ˆ ğŸ‰ğŸ‰ğŸ‰
# éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå‡ºç°äº† `[eslint] Plugin "react" was conflicted between "package.json Â» eslint-config-react-app`é”™è¯¯ï¼Œæˆ–è®¸åªéœ€è¦åœ¨ demo çš„ package.json ä¿å­˜ä¸€ä¸‹å³å¯

# æ„å»º pages
pnpm run docs:build

# éƒ¨ç½²åˆ° pages
pnpm run docs:deploy
```
